<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0182)http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+NerdyDorkDjango+%28Nerdy+Dork+%C2%BB+django%29 -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" prefix="og: http://ogp.me/ns#"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
	 
	<meta name="generator" content="WordPress 3.5.1">
	
	<title>Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ | Nerdy Dork</title>
	
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.nerdydork.com/feed">
	<link rel="pingback" href="http://www.nerdydork.com/xmlrpc.php">
	
	<!-- bookmark icon -->
	<link rel="shortcut icon" href="http://www.nerdydork.com/wp-content/themes/author/images/favicon.png">
	
	<!-- main stylesheet -->
	<link rel="stylesheet" href="./deploy_instructions_files/style.css" type="text/css" media="screen">
	
	<!-- media queries -->
	<link rel="stylesheet" href="./deploy_instructions_files/media-queries.css" type="text/css" media="screen">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0">
	
	<!-- google font -->
	<link href="./deploy_instructions_files/css" rel="stylesheet" type="text/css">
	
	<!-- load scripts -->
	
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.7 - http://yoast.com/wordpress/seo/ -->
<link rel="canonical" href="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ - Nerdy Dork">
<meta property="og:url" content="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html">
<meta property="og:site_name" content="Nerdy Dork">
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="Nerdy Dork » Feed" href="http://www.nerdydork.com/feed">
<link rel="alternate" type="application/rss+xml" title="Nerdy Dork » Comments Feed" href="http://www.nerdydork.com/comments/feed">
<link rel="alternate" type="application/rss+xml" title="Nerdy Dork » Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ Comments Feed" href="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html/feed">
<link rel="stylesheet" id="contact-form-7-css" href="./deploy_instructions_files/styles.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-syntax-css-css" href="./deploy_instructions_files/wp-syntax.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack-widgets-css" href="./deploy_instructions_files/widgets.css" type="text/css" media="all">
<link rel="stylesheet" id="fancybox_css-css" href="./deploy_instructions_files/jquery.fancybox-1.3.4.css" type="text/css" media="screen">
<link rel="stylesheet" id="flex_css-css" href="./deploy_instructions_files/flexslider.css" type="text/css" media="screen">
<link rel="stylesheet" id="sharedaddy-css" href="./deploy_instructions_files/sharing.css" type="text/css" media="all">
<div class="fit-vids-style">­<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style></div><script async="" src="./deploy_instructions_files/django-server-postgresql-nginx-celery-rabbitmq.html"></script><script src="./deploy_instructions_files/quant.js" async="" type="text/javascript"></script><script type="text/javascript" async="" src="./deploy_instructions_files/ga.js"></script><script type="text/javascript" src="./deploy_instructions_files/jquery.js"></script><style type="text/css"></style>
<script type="text/javascript" src="./deploy_instructions_files/smack-microdata.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/chirp.min.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/jquery.mobilemenu.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/jquery.fancybox-1.3.4.pack.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/jquery.flexslider.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/jquery.fitvids.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.nerdydork.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.nerdydork.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 3.5.1">
<link rel="shortlink" href="http://wp.me/p2FVwn-hD">
<link rel="publisher" href="https://plus.google.com/109244367050421966845/about">
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>

<!-- All in One SEO Pack 2.0.1 by Michael Torbert of Semper Fi Web Design[346,452] -->
<meta name="description" content="Disclaimer: I am not a sysadmin. I&#39;m just a developer. I welcome and encourage comments to improve this process! I have set up a couple of Django servers">

<link rel="canonical" href="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html">
<!-- /all in one seo pack -->
<link rel="stylesheet" type="text/css" href="./deploy_instructions_files/shCore.css"><link rel="stylesheet" type="text/css" href="./deploy_instructions_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>

	<!-- conditional css -->
	<style type="text/css">
		a {
			color:#68AECF;
		}
		.scroll .flex-control-nav li a.active {
			background:#68AECF;
		}
		
			</style>
<script async="" type="text/javascript" src="./deploy_instructions_files/count.js"></script><script type="text/javascript" async="" src="./deploy_instructions_files/embed.js"></script><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="./deploy_instructions_files/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="./deploy_instructions_files/services.css"><script type="text/javascript" async="" src="./deploy_instructions_files/count-data.js"></script></head>

<body class="single single-post postid-1093 single-format-standard" cz-shortcut-listen="true"><div id="StayFocusd-infobar" style="display: none; top: 4212px;"><img src="chrome-extension://laankejkbhbdhmipfmgcngdelahlfoji/img/eye_19x19_red.png"><span id="StayFocusd-infobar-msg"></span><span id="StayFocusd-infobar-links"><a href="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+NerdyDorkDjango+%28Nerdy+Dork+%C2%BB+django%29#" id="StayFocusd-infobar-never-show">hide forever</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+NerdyDorkDjango+%28Nerdy+Dork+%C2%BB+django%29#" id="StayFocusd-infobar-hide">hide once</a></span></div>
	
	<div id="wrapper" class="clearfix">
		
		<div id="main" class="clearfix">
			<div class="header-wrapper clearfix">
				<!-- grab the logo -->
						        	
	            <div class="logo-default">
		            <div class="logo-text">
		            	<a href="http://www.nerdydork.com/" title="Nerdy Dork">Nerdy Dork</a>
		            	<br>
		            	<span>Dustin Davis reviews… the internet.</span>
		            </div>
	            </div>
		            
				
				<div class="top-bar">			
		        	<div class="menu-wrap">
		            	<div class="nav"><ul style="display: none;"><li class="page_item page-item-192"><a href="http://www.nerdydork.com/about">About</a></li></ul></div>
	
		            </div>
				</div><!-- top bar -->
			</div><!-- header wrapper -->
			
			<!-- secondary menu -->
			
		<!-- excerpt scroller -->
				
		<div id="content">
			<!-- conditional subtitles -->
						
			<div class="post-wrap">
				<!-- grab the posts -->
								
					<div class="post-1093 post type-post status-publish format-standard hentry category-programming-internet tag-celery tag-celerycam tag-django tag-nginx tag-postgres tag-postgresql tag-rabbitmq tag-supervisor tag-ubuntu post">
						<!-- uses the post format -->
												<div class="box">
							
							<!-- grab the video -->
														
								<!-- grab the featured image -->
															
														
							<div class="clear"></div>
							
							<div class="frame">
								<div class="title-wrap">
									<h2 class="entry-title"><a href="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html" title="Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ">Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ</a></h2>
									
									<div class="title-meta">
										<span><a href="http://about.me/ddavis" title="Visit Dustin’s website" rel="author external">Dustin</a></span> <span><a href="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html">3/13/2013</a></span> <span><a href="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html/#disqus_thread" title="Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ comments" data-disqus-identifier="1093 http://www.nerdydork.com/?p=1093">17 Comments</a></span>
									</div>
								</div>
								
								<div class="post-content">
																			    <script type="text/javascript">
    // <![CDATA[
        var disqus_shortname = 'nerdydork';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    //]]>
    </script>
<p><strong>Disclaimer: I am not a sysadmin. I’m just a developer. I welcome and encourage comments to improve this process!</strong></p>
<p>I have set up a couple of Django servers lately and taken copious notes that I have extracted from various sources. Below are the commands I issue to a fresh Ubuntu server install to get Django up and running. This puts everything on one server (PostgreSQL, Celery, RabbitMQ, etc) so it’s nice for a small starter project but don’t expect it to scale.</p>
<p>Log in as root and add a non-root user. Add the user to the sudoers group. Log out and log back in as ‘username’.</p>
<div><div id="highlighter_30615" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">adduser username</code></div><div class="line number2 index1 alt1"><code class="bash plain">adduser username </code><code class="bash functions">sudo</code></div><div class="line number3 index2 alt2"><code class="bash functions">exit</code></div></div></td></tr></tbody></table></div></div>
<p>Update the local package index. Upgrade all the packages that can be upgraded. Remove packages that are no longer needed and then reboot for good measure.</p>
<div><div id="highlighter_307656" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">apt-get update</code></div><div class="line number2 index1 alt1"><code class="bash functions">sudo</code> <code class="bash plain">apt-get dist-upgrade</code></div><div class="line number3 index2 alt2"><code class="bash functions">sudo</code> <code class="bash plain">apt-get autoremove</code></div><div class="line number4 index3 alt1"><code class="bash functions">sudo</code> <code class="bash plain">reboot</code></div></div></td></tr></tbody></table></div></div>
<p>Install libraries for Python, PIP, PIL/Pillow, PostgreSQL, libevent for gevent, memcached server and library, RabbitMQ, git, nginx, &amp; supervisor</p>
<div><div id="highlighter_498923" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">apt-get </code><code class="bash functions">install</code> <code class="bash plain">build-essential python-dev python-pip libjpeg8-dev libfreetype6-dev zlib1g-dev postgresql postgresql-contrib libpq-dev libevent-dev memcached libmemcached-dev rabbitmq-server git nginx supervisor</code></div></div></td></tr></tbody></table></div></div>
<p>Install virtualenv and virtualenvwrapper. To enable it, we need to add a line to our .bashrc file and log out and back in.</p>
<div><div id="highlighter_633133" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">pip </code><code class="bash functions">install</code> <code class="bash plain">virtualenv virtualenvwrapper</code></div><div class="line number2 index1 alt1"><code class="bash functions">echo</code> <code class="bash string">""</code> <code class="bash plain">&gt;&gt; .bashrc</code></div><div class="line number3 index2 alt2"><code class="bash functions">echo</code> <code class="bash string">"source /usr/local/bin/virtualenvwrapper.sh"</code> <code class="bash plain">&gt;&gt; .bashrc</code></div><div class="line number4 index3 alt1"><code class="bash functions">exit</code></div></div></td></tr></tbody></table></div></div>
<p>Make a virtualenv</p>
<div><div id="highlighter_40744" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">mkvirtualenv project_env</code></div></div></td></tr></tbody></table></div></div>
<p>Install postgres adminpack</p>
<div><div id="highlighter_427093" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">-u postgres psql</code></div><div class="line number2 index1 alt1"><code class="bash plain">CREATE EXTENSION </code><code class="bash string">"adminpack"</code><code class="bash plain">;</code></div><div class="line number3 index2 alt2"><code class="bash plain">\q</code></div></div></td></tr></tbody></table></div></div>
<p>Change postgres password &amp; create database</p>
<div><div id="highlighter_971288" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash functions">passwd</code> <code class="bash plain">postgres</code></div><div class="line number2 index1 alt1"><code class="bash functions">sudo</code> <code class="bash functions">su</code> <code class="bash plain">- postgres</code></div><div class="line number3 index2 alt2"><code class="bash plain">psql -d template1 -c </code><code class="bash string">"ALTER USER postgres WITH PASSWORD 'changeme';"</code></div><div class="line number4 index3 alt1"><code class="bash plain">createdb projectdb</code></div><div class="line number5 index4 alt2"><code class="bash plain">createuser username --pwprompt</code></div><div class="line number6 index5 alt1"><code class="bash plain">psql -d template1 -U postgres</code></div><div class="line number7 index6 alt2"><code class="bash plain">GRANT ALL PRIVILEGES ON DATABASE projectdb to username;</code></div><div class="line number8 index7 alt1"><code class="bash plain">\q</code></div><div class="line number9 index8 alt2"><code class="bash functions">exit</code></div></div></td></tr></tbody></table></div></div>
<p>Install RabbitMQ</p>
<div><div id="highlighter_552894" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">rabbitmqctl add_user username username_pw</code></div><div class="line number2 index1 alt1"><code class="bash functions">sudo</code> <code class="bash plain">rabbitmqctl add_vhost username_vhost</code></div><div class="line number3 index2 alt2"><code class="bash functions">sudo</code> <code class="bash plain">rabbitmqctl set_permissions -p username_vhost username </code><code class="bash string">".*"</code> <code class="bash string">".*"</code> <code class="bash string">".*"</code></div><div class="line number4 index3 alt1"><code class="bash functions">sudo</code> <code class="bash plain">rabbitmqctl clear_permissions -p username_vhost guest</code></div></div></td></tr></tbody></table></div></div>
<p>Generate ssh key to upload to Github, Bitbucket, or wherever you host your code.</p>
<div><div id="highlighter_395478" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">ssh</code><code class="bash plain">-keygen -t rsa -C you@sample.com</code></div><div class="line number2 index1 alt1"><code class="bash functions">cat</code> <code class="bash plain">~/.</code><code class="bash functions">ssh</code><code class="bash plain">/id_rsa</code><code class="bash plain">.pub</code></div></div></td></tr></tbody></table></div></div>
<p>Create some /var/www dirs &amp; set permissions on these directories.</p>
<div><div id="highlighter_112239" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash functions">mkdir</code> <code class="bash plain">-p </code><code class="bash plain">/var/www/static</code></div><div class="line number2 index1 alt1"><code class="bash functions">sudo</code> <code class="bash functions">mkdir</code> <code class="bash plain">/var/www/media</code></div><div class="line number3 index2 alt2"><code class="bash functions">sudo</code> <code class="bash functions">chown</code> <code class="bash plain">-R username:www-data </code><code class="bash plain">/var/www</code></div></div></td></tr></tbody></table></div></div>
<p>Clone your repository to your home directory and install the packages in your requirements file.</p>
<div><div id="highlighter_929432" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">git clone git@bitbucket.org:yourusername</code><code class="bash plain">/project</code><code class="bash plain">.git</code></div><div class="line number2 index1 alt1"><code class="bash functions">cd</code> <code class="bash plain">envelopebudget</code><code class="bash plain">/requirements</code></div><div class="line number3 index2 alt2"><code class="bash plain">pip </code><code class="bash functions">install</code> <code class="bash plain">-r prod.txt</code></div></div></td></tr></tbody></table></div></div>
<p>Remove the default symbolic link for Nginx. Create a new blank config, and make a symlink to it. Edit the new configuration file.</p>
<div><div id="highlighter_302791" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash functions">rm</code> <code class="bash plain">/etc/nginx/sites-enabled/default</code></div><div class="line number2 index1 alt1"><code class="bash functions">sudo</code> <code class="bash functions">touch</code> <code class="bash plain">/etc/nginx/sites-available/project</code></div><div class="line number3 index2 alt2"><code class="bash functions">cd</code> <code class="bash plain">/etc/nginx/sites-enabled</code></div><div class="line number4 index3 alt1"><code class="bash functions">sudo</code> <code class="bash functions">ln</code> <code class="bash plain">-s ..</code><code class="bash plain">/sites-available/project</code></div><div class="line number5 index4 alt2"><code class="bash functions">sudo</code> <code class="bash plain">vim </code><code class="bash plain">/etc/nginx/sites-available/project</code></div></div></td></tr></tbody></table></div></div>
<p>Add the following content to nginx config:</p>
<div><div id="highlighter_734993" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain"># define an upstream server named gunicorn on localhost port 8000</code></div><div class="line number2 index1 alt1"><code class="plain plain">upstream gunicorn {</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">server localhost:8000;</code></div><div class="line number4 index3 alt1"><code class="plain plain">}</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="plain plain"># make an nginx server</code></div><div class="line number7 index6 alt2"><code class="plain plain">server {</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># listen on port 80</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">listen 80;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># for requests to these domains</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">server_name yourdomain.com www.yourdomain.com;</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># look in this directory for files to serve</code></div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">root /var/www/;</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># keep logs in these files</code></div><div class="line number18 index17 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">access_log /var/log/nginx/project.access.log;</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">error_log /var/log/nginx/project.error.log;</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># You need this to allow users to upload large files</code></div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># See <a href="http://wiki.nginx.org/HttpCoreModule">http://wiki.nginx.org/HttpCoreModule</a>#client_max_body_size</code></div><div class="line number23 index22 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># I'm not sure where it goes, so I put it in twice. It works.</code></div><div class="line number24 index23 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">client_max_body_size 0;</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># THIS IS THE IMPORTANT LINE</code></div><div class="line number27 index26 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># this tries to serve a static file at the requested url</code></div><div class="line number28 index27 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># if no static file is found, it passes the url to gunicorn</code></div><div class="line number29 index28 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">try_files $uri @gunicorn;</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># define rules for gunicorn</code></div><div class="line number32 index31 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">location @gunicorn {</code></div><div class="line number33 index32 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># repeated just in case</code></div><div class="line number34 index33 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">client_max_body_size 0;</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># proxy to the gunicorn upstream defined above</code></div><div class="line number37 index36 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_pass <a href="http://gunicorn%3B/">http://gunicorn;</a></code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># makes sure the URLs don't actually say <a href="http://gunicorn/">http://gunicorn</a> </code></div><div class="line number40 index39 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_redirect off;</code></div><div class="line number41 index40 alt2">&nbsp;</div><div class="line number42 index41 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># If gunicorn takes &gt; 5 minutes to respond, give up</code></div><div class="line number43 index42 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># Feel free to change the time on this</code></div><div class="line number44 index43 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_read_timeout 5m;</code></div><div class="line number45 index44 alt2">&nbsp;</div><div class="line number46 index45 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># make sure these HTTP headers are set properly</code></div><div class="line number47 index46 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_set_header Host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $host;</code></div><div class="line number48 index47 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_set_header X-Real-IP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $remote_addr;</code></div><div class="line number49 index48 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</code></div><div class="line number50 index49 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number51 index50 alt2"><code class="plain plain">}</code></div><div class="line number52 index51 alt1"><code class="plain plain">server {</code></div><div class="line number53 index52 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">listen&nbsp; 443 ssl;</code></div><div class="line number54 index53 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number55 index54 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># start mine</code></div><div class="line number56 index55 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ssl on;</code></div><div class="line number57 index56 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ssl_certificate /etc/ssl/localcerts/yourdomain_com.crt;</code></div><div class="line number58 index57 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ssl_certificate_key /etc/ssl/localcerts/yourdomain.com.key;</code></div><div class="line number59 index58 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ssl_protocols&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SSLv3 TLSv1 TLSv1.1 TLSv1.2;</code></div><div class="line number60 index59 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ssl_ciphers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HIGH:!aNULL:!MD5:!kEDH;</code></div><div class="line number61 index60 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">server_name&nbsp; yourdomain.com www.yourdomain.com;</code></div><div class="line number62 index61 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number63 index62 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># look in this directory for files to serve</code></div><div class="line number64 index63 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">root /var/www/;</code></div><div class="line number65 index64 alt2">&nbsp;</div><div class="line number66 index65 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># keep logs in these files</code></div><div class="line number67 index66 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">access_log /var/log/nginx/project.access.log;</code></div><div class="line number68 index67 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">error_log /var/log/nginx/project.error.log;</code></div><div class="line number69 index68 alt2">&nbsp;</div><div class="line number70 index69 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># You need this to allow users to upload large files</code></div><div class="line number71 index70 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># See <a href="http://wiki.nginx.org/HttpCoreModule">http://wiki.nginx.org/HttpCoreModule</a>#client_max_body_size</code></div><div class="line number72 index71 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># I'm not sure where it goes, so I put it in twice. It works.</code></div><div class="line number73 index72 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">client_max_body_size 0;</code></div><div class="line number74 index73 alt1">&nbsp;</div><div class="line number75 index74 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># THIS IS THE IMPORTANT LINE</code></div><div class="line number76 index75 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># this tries to serve a static file at the requested url</code></div><div class="line number77 index76 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># if no static file is found, it passes the url to gunicorn</code></div><div class="line number78 index77 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">try_files $uri @gunicorn;</code></div><div class="line number79 index78 alt2">&nbsp;</div><div class="line number80 index79 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># define rules for gunicorn</code></div><div class="line number81 index80 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">location @gunicorn {</code></div><div class="line number82 index81 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># repeated just in case</code></div><div class="line number83 index82 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">client_max_body_size 0;</code></div><div class="line number84 index83 alt1">&nbsp;</div><div class="line number85 index84 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># proxy to the gunicorn upstream defined above</code></div><div class="line number86 index85 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_pass <a href="http://gunicorn%3B/">http://gunicorn;</a></code></div><div class="line number87 index86 alt2">&nbsp;</div><div class="line number88 index87 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># makes sure the URLs don't actually say <a href="http://gunicorn/">http://gunicorn</a> </code></div><div class="line number89 index88 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_redirect off;</code></div><div class="line number90 index89 alt1">&nbsp;</div><div class="line number91 index90 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># If gunicorn takes &gt; 5 minutes to respond, give up</code></div><div class="line number92 index91 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># Feel free to change the time on this</code></div><div class="line number93 index92 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_read_timeout 5m;</code></div><div class="line number94 index93 alt1">&nbsp;</div><div class="line number95 index94 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain"># make sure these HTTP headers are set properly</code></div><div class="line number96 index95 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_set_header Host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $host;</code></div><div class="line number97 index96 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_set_header X-Real-IP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $remote_addr;</code></div><div class="line number98 index97 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</code></div><div class="line number99 index98 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number100 index99 alt1"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Restart nginx</p>
<div><div id="highlighter_483845" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">service nginx restart</code></div></div></td></tr></tbody></table></div></div>
<p>Set up database</p>
<div><div id="highlighter_204578" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">cd</code> <code class="bash plain">/home/username/project</code></div><div class="line number2 index1 alt1"><code class="bash plain">python manage.py syncdb --settings=project.settings.prod</code></div><div class="line number3 index2 alt2"><code class="bash plain">python manage.py migrate --settings=project.settings.prod</code></div></div></td></tr></tbody></table></div></div>
<p>Run collectstatic command</p>
<div><div id="highlighter_326320" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">python manage.py collectstatic -l --noinput --settings=project.settings.prod</code></div><div class="line number2 index1 alt1"><code class="bash functions">sudo</code> <code class="bash plain">/etc/init</code><code class="bash plain">.d</code><code class="bash plain">/nginx</code> <code class="bash plain">restart</code></div></div></td></tr></tbody></table></div></div>
<p>Configure supervisor</p>
<p>Add the following contents to /etc/supervisor/conf.d/celeryd.conf</p>
<div><div id="highlighter_967218" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">vim </code><code class="bash plain">/etc/supervisor/conf</code><code class="bash plain">.d</code><code class="bash plain">/celeryd</code><code class="bash plain">.conf</code></div></div></td></tr></tbody></table></div></div>
<p>Contents:</p>
<div><div id="highlighter_660583" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain"># the name of this service as far as supervisor is concerned</code></div><div class="line number2 index1 alt1"><code class="plain plain">[program:celeryd]</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="plain plain"># the command to start celery</code></div><div class="line number5 index4 alt2"><code class="plain plain">command = /home/username/.virtualenvs/project_env/bin/python /home/username/project/manage.py celeryd -B -E --settings=project.settings.prod</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="plain plain"># the directory to be in while running this</code></div><div class="line number8 index7 alt1"><code class="plain plain">directory = /home/username/project</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="plain plain"># the user to run this service as</code></div><div class="line number11 index10 alt2"><code class="plain plain">user = username</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="plain plain"># start this at boot, and restart it if it fails</code></div><div class="line number14 index13 alt1"><code class="plain plain">autostart = true</code></div><div class="line number15 index14 alt2"><code class="plain plain">autorestart = true</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="plain plain"># take stdout and stderr of celery and write to these log files</code></div><div class="line number18 index17 alt1"><code class="plain plain">stdout_logfile = /var/log/supervisor/celeryd.log</code></div><div class="line number19 index18 alt2"><code class="plain plain">stderr_logfile = /var/log/supervisor/celeryd_err.log</code></div></div></td></tr></tbody></table></div></div>
<p>Now we will create CeleryCam in /etc/supervisor/conf.d/celerycam.conf</p>
<div><div id="highlighter_193720" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">vim </code><code class="bash plain">/etc/supervisor/conf</code><code class="bash plain">.d</code><code class="bash plain">/celerycam</code><code class="bash plain">.conf</code></div></div></td></tr></tbody></table></div></div>
<p>Contents:</p>
<div><div id="highlighter_807430" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">[program:celerycam]</code></div><div class="line number2 index1 alt1"><code class="plain plain">command = /home/username/.virtualenvs/project_env/bin/python /home/username/project/manage.py celerycam --settings=project.settings.prod</code></div><div class="line number3 index2 alt2"><code class="plain plain">directory = /home/username/project</code></div><div class="line number4 index3 alt1"><code class="plain plain">user = username</code></div><div class="line number5 index4 alt2"><code class="plain plain">autostart = true</code></div><div class="line number6 index5 alt1"><code class="plain plain">autorestart = true</code></div><div class="line number7 index6 alt2"><code class="plain plain">stdout_logfile = /var/log/supervisor/celerycam.log</code></div><div class="line number8 index7 alt1"><code class="plain plain">stderr_logfile = /var/log/supervisor/celerycam_err.log</code></div></div></td></tr></tbody></table></div></div>
<p>Create Gunicorn script in /etc/supervisor/conf.d/gunicorn.conf</p>
<div><div id="highlighter_919672" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">vim </code><code class="bash plain">/etc/supervisor/conf</code><code class="bash plain">.d</code><code class="bash plain">/gunicorn</code><code class="bash plain">.conf</code></div></div></td></tr></tbody></table></div></div>
<p>Contents:</p>
<div><div id="highlighter_561367" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">[program:gunicorn]</code></div><div class="line number2 index1 alt1"><code class="plain plain">command = /home/username/.virtualenvs/project_env/bin/python /home/username/project/manage.py run_gunicorn -w 4 -k gevent --settings=project.settings.prod</code></div><div class="line number3 index2 alt2"><code class="plain plain">directory = /home/username/project</code></div><div class="line number4 index3 alt1"><code class="plain plain">user = username</code></div><div class="line number5 index4 alt2"><code class="plain plain">autostart = true</code></div><div class="line number6 index5 alt1"><code class="plain plain">autorestart = true</code></div><div class="line number7 index6 alt2"><code class="plain plain">stdout_logfile = /var/log/supervisor/gunicorn.log</code></div><div class="line number8 index7 alt1"><code class="plain plain">stderr_logfile = /var/log/supervisor/gunicorn_err.log</code></div></div></td></tr></tbody></table></div></div>
<p>Restart supervisor</p>
<div><div id="highlighter_267772" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">service supervisor restart</code></div></div></td></tr></tbody></table></div></div>
<p>Restart/stop/start all services managed by supervisor</p>
<div><div id="highlighter_661926" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">supervisorctl restart all</code></div><div class="line number2 index1 alt1"><code class="bash functions">sudo</code> <code class="bash plain">supervisorctl stop all</code></div><div class="line number3 index2 alt2"><code class="bash functions">sudo</code> <code class="bash plain">supervisorctl start all</code></div></div></td></tr></tbody></table></div></div>
<p>Or restart just celeryd</p>
<div><div id="highlighter_326067" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">supervisorctl restart celeryd</code></div></div></td></tr></tbody></table></div></div>
<p>Or, start just gunicorn</p>
<div><div id="highlighter_6199" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">supervisorctl start gunicorn</code></div></div></td></tr></tbody></table></div></div>
<p>Reboot and make sure everything starts up</p>
<div><div id="highlighter_596375" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash plain">reboot</code></div></div></td></tr></tbody></table></div></div>
<p>Bonus: set up ssl</p>
<div><div id="highlighter_147050" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">sudo</code> <code class="bash functions">mkdir</code> <code class="bash plain">/etc/ssl/localcerts</code></div><div class="line number2 index1 alt1"><code class="bash functions">cd</code> <code class="bash plain">/etc/ssl/localcerts</code></div><div class="line number3 index2 alt2"><code class="bash functions">sudo</code> <code class="bash plain">openssl req -new -nodes -days 365 -keyout yourdomain.com.key -out yourdomain.com.csr</code></div><div class="line number4 index3 alt1"><code class="bash functions">sudo</code> <code class="bash functions">chmod</code> <code class="bash plain">400 </code><code class="bash plain">/etc/ssl/localcerts/yourdomain</code><code class="bash plain">.com.key</code></div><div class="line number5 index4 alt2"><code class="bash functions">sudo</code> <code class="bash functions">chmod</code> <code class="bash plain">400 </code><code class="bash plain">/etc/ssl/localcerts/yourdomain</code><code class="bash plain">.com.crt</code></div></div></td></tr></tbody></table></div></div>
<div class="yarpp-related">
<p>Related posts:</p><ol>
<li><a href="http://www.nerdydork.com/setting-up-your-own-sentry-server.html" rel="bookmark" title="Setting Up Your Own Sentry Server">Setting Up Your Own Sentry Server</a> <small>If you are hosting a Django site, Sentry will make...</small></li>
<li><a href="http://www.nerdydork.com/django-custom-upload-handler-to-compress-image-files.html" rel="bookmark" title="Django Custom Upload Handler to Compress Image Files">Django Custom Upload Handler to Compress Image Files</a> <small>I got a somewhat unique request on a project the...</small></li>
<li><a href="http://www.nerdydork.com/digitalocean-heroku-linode-webfaction-hosting-showdown.html" rel="bookmark" title="DigitalOcean, Heroku, Linode &amp; Webfaction: Hosting Showdown">DigitalOcean, Heroku, Linode &amp; Webfaction: Hosting Showdown</a> <small>Where do you fit on this scale? Sysadmin -&gt; DBA...</small></li>
<li><a href="http://www.nerdydork.com/python-django-google-adsense-api.html" rel="bookmark" title="Python, Django &amp; the Google Adsense API">Python, Django &amp; the Google Adsense API</a> <small>I have been tasked with updating our real-time revenue stats...</small></li>
<li><a href="http://www.nerdydork.com/django-textile-template-caching.html" rel="bookmark" title="Django Textile/Markdown Template Caching Speedup">Django Textile/Markdown Template Caching Speedup</a> <small>I’ve been putting some time into updating an old site...</small></li>
</ol>
<p>Related posts brought to you by <a href="http://yarpp.org/">Yet Another Related Posts Plugin</a>.</p>
</div>
										
																					<div class="pagelink">
																							</div>
																											</div>
							</div><!-- frame -->
							
							<!-- meta info bar -->
															<div class="bar">
									<div class="bar-frame clearfix">
										<div class="meta-info">
											<div class="share">
												<!-- google plus -->
												<a class="share-google" href="https://plus.google.com/share?url=http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html" onclick="window.open(&#39;https://plus.google.com/share?url=http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html&#39;,&#39;gplusshare&#39;,&#39;width=450,height=300,left=&#39;+(screen.availWidth/2-375)+&#39;,top=&#39;+(screen.availHeight/2-150)+&#39;&#39;);return false;">google</a>
												
												<!-- facebook -->
												<a class="share-facebook" onclick="window.open(&#39;http://www.facebook.com/share.php?u=http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html&#39;,&#39;facebook&#39;,&#39;width=450,height=300,left=&#39;+(screen.availWidth/2-375)+&#39;,top=&#39;+(screen.availHeight/2-150)+&#39;&#39;);return false;" href="http://www.facebook.com/share.php?u=http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html" title="Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ" target="blank">facebook</a>
												
												<!-- twitter -->
												<a class="share-twitter" onclick="window.open(&#39;http://twitter.com/home?status=Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ - http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html&#39;,&#39;twitter&#39;,&#39;width=450,height=300,left=&#39;+(screen.availWidth/2-375)+&#39;,top=&#39;+(screen.availHeight/2-150)+&#39;&#39;);return false;" href="http://twitter.com/home?status=Setting%20up%20a%20Django%20Server%20with%20PostgreSQL,%20Nginx,%20Celery%20&%20RabbitMQ%20-%20http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html" title="Setting up a Django Server with PostgreSQL, Nginx, Celery &amp; RabbitMQ" target="blank">twitter</a>
											</div><!-- share -->
											
											<div class="categories">
												<div class="title entypo">i</div>
												<a href="http://www.nerdydork.com/category/programming-internet" title="View all posts in Programming &amp; Internet" rel="category tag">Programming &amp; Internet</a>											</div>						
										  	
										  	<div class="tags">
										  		<div class="title entypo">C</div>
										  		<a href="http://www.nerdydork.com/tag/celery" rel="tag">celery</a>, <a href="http://www.nerdydork.com/tag/celerycam" rel="tag">celerycam</a>, <a href="http://www.nerdydork.com/tag/django" rel="tag">django</a>, <a href="http://www.nerdydork.com/tag/nginx" rel="tag">nginx</a>, <a href="http://www.nerdydork.com/tag/postgres" rel="tag">postgres</a>, <a href="http://www.nerdydork.com/tag/postgresql" rel="tag">postgresql</a>, <a href="http://www.nerdydork.com/tag/rabbitmq" rel="tag">rabbitmq</a>, <a href="http://www.nerdydork.com/tag/supervisor" rel="tag">supervisor</a>, <a href="http://www.nerdydork.com/tag/ubuntu" rel="tag">ubuntu</a>
										  	</div>									  	</div><!-- meta info -->
									</div><!-- bar frame -->
								</div><!-- bar -->
													</div><!-- box -->					</div><!-- post-->
					
				
									<!-- next and previous posts -->	
					<div class="next-prev">
						<div class="prev-post"><strong class="title">← Previous Post</strong><span><a href="http://www.nerdydork.com/python-django-google-adsense-api.html" rel="prev">Python, Django &amp; the Google Adsense API</a></span></div>						<div class="next-post"><strong class="title">Next Post →</strong><span><a href="http://www.nerdydork.com/django-month_choices.html" rel="next">Django MONTH_CHOICES</a></span></div>					</div>	
							
				
							</div><!-- post wrap -->
							
						<!-- end posts -->
			
						
			<!-- comments -->
											<div id="comment-jump" class="comments">
					
<div id="disqus_thread"><iframe id="dsq1" data-disqus-uid="1" allowtransparency="true" frameborder="0" role="complementary" width="100%" src="./deploy_instructions_files/saved_resource.html" style="width: 100%; border: none; overflow: hidden; height: 2367px;" scrolling="no" horizontalscrolling="no" verticalscrolling="no"></iframe><iframe id="dsq2" data-disqus-uid="2" allowtransparency="true" frameborder="0" role="application" width="100%" src="./deploy_instructions_files/client.html" style="width: 100%; border: none; overflow: hidden; height: 0px; display: none;"></iframe></div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html';
    var disqus_identifier = '1093 http://www.nerdydork.com/?p=1093';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'nerdydork';
    var disqus_title = "Setting up a Django Server with PostgreSQL, Nginx, Celery &#038; RabbitMQ";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=1093';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/www.nerdydork.com\/django-server-postgresql-nginx-celery-rabbitmq.html\/trackback"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>
				</div>
									</div><!--content-->
		
		<!-- grab the sidebar -->
						<div id="sidebar">			
					<!-- grab sidebar widgets -->				
					<div id="search-3" class="widget widget_search"><form action="http://www.nerdydork.com/" class="search-form clearfix">
	<fieldset>
		
		<input type="submit" value="Go" class="submit">
		<input type="text" class="search-form-input text" name="s" onfocus="if (this.value == &#39;Search&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;Search&#39;;}" value="Search">
	</fieldset>
</form>
</div><div id="ok-social-2" class="widget ok-social">
		<div class="social-count">
							<div class="twitter-count count-box">
					<div class="count-text">
						505					</div>
					<div class="follow-text">
						<a target="blank" href="http://twitter.com/DustinDavis">Follow on Twitter</a>
					</div>
				</div>
			
			
							<div class="facebook-count count-box">
					<div class="count-text">
						367					</div>
					<div class="follow-text">
						<a target="blank" href="http://facebook.com/inzolo">Fans on Facebook</a>
					</div>
				</div>
						
					</div>


</div><div id="text-2" class="widget widget_text"><h2 class="widgettitle">Badges</h2>
			<div class="textwidget"><a href="http://inzolo.com/~dustin"><img src="./deploy_instructions_files/90x33-i-budget-with-inzolo-gray.png" border="0" alt="I budget with Inzolo.com"></a>

<a href="http://www.dvdanthology.com/Dustin-movielist.html"><img src="./deploy_instructions_files/button-Dustin.png" border="0" alt="DVD Anthology"></a>

<a href="http://www.gixen.com/index.php?gixenlink=xhenxhe" target="_blank">
<img src="./deploy_instructions_files/gixenlink.gif" border="0" alt="Gixen - Free eBay Auction Sniper!">
</a>
</div>
		</div><div id="blog_subscription-2" class="widget jetpack_subscription_widget"><h2 class="widgettitle"><label for="subscribe-field">Subscribe to Blog via Email</label></h2>

		<form action="" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-2">
			<p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
			<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" value="Email Address" id="subscribe-field" onclick="if ( this.value == &#39;Email Address&#39; ) { this.value = &#39;&#39;; }" onblur="if ( this.value == &#39;&#39; ) { this.value = &#39;Email Address&#39;; }"></p>

			<p>
				<input type="hidden" name="action" value="subscribe">
				<input type="hidden" name="source" value="http://www.nerdydork.com/django-server-postgresql-nginx-celery-rabbitmq.html?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+NerdyDorkDjango+%28Nerdy+Dork+%C2%BB+django%29">
				<input type="hidden" name="sub-type" value="widget">
				<input type="hidden" name="redirect_fragment" value="blog_subscription-2">
								<input type="submit" value="Subscribe" name="jetpack_subscriptions_widget">
			</p>
		</form>

		
</div><div id="categories-1" class="widget widget_categories"><h2 class="widgettitle">Categories</h2>
		<ul>
	<li class="cat-item cat-item-11"><a href="http://www.nerdydork.com/category/books" title="Sometimes I read...">Books</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://www.nerdydork.com/category/electronics" title="View all posts filed under Electronics">Electronics</a>
</li>
	<li class="cat-item cat-item-22"><a href="http://www.nerdydork.com/category/family" title="View all posts filed under Family">Family</a>
</li>
	<li class="cat-item cat-item-15"><a href="http://www.nerdydork.com/category/finance" title="View all posts filed under Finance">Finance</a>
</li>
	<li class="cat-item cat-item-148"><a href="http://www.nerdydork.com/category/fitness" title="View all posts filed under Fitness">Fitness</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.nerdydork.com/category/humor" title="View all posts filed under Humor">Humor</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://www.nerdydork.com/category/internet-marketing" title="View all posts filed under Internet Marketing">Internet Marketing</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.nerdydork.com/category/ipod" title="View all posts filed under iPod">iPod</a>
</li>
	<li class="cat-item cat-item-2"><a href="http://www.nerdydork.com/category/lds" title="Things of a religeous nature.">LDS</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.nerdydork.com/category/movies" title="View all posts filed under Movies">Movies</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://www.nerdydork.com/category/movies/napoleon-dynamite" title="Blogs dedicated to the frizzy haired, Preston Idaho hero.">Napoleon Dynamite</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.nerdydork.com/category/products" title="How I feel about certain products.">Products</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.nerdydork.com/category/programming-internet" title="View all posts filed under Programming &amp; Internet">Programming &amp; Internet</a>
</li>
	<li class="cat-item cat-item-13"><a href="http://www.nerdydork.com/category/rants" title="View all posts filed under Rants">Rants</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://www.nerdydork.com/category/satellite-television" title="All about Dish Network and DIRECTV">Satellite Television</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://www.nerdydork.com/category/sports-stuff" title="The older I get, the better I was...">Sports &amp; Stuff</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.nerdydork.com/category/stuff" title="View all posts filed under Stuff">Stuff</a>
</li>
	<li class="cat-item cat-item-52"><a href="http://www.nerdydork.com/category/technology" title="View all posts filed under Technology">Technology</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.nerdydork.com/category/web-sites" title="Sites I&#39;ve created, or I simply recommend.">Web Sites</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.nerdydork.com/category/yada" title="View all posts filed under Yada">Yada</a>
</li>
		</ul>
</div><div id="linkcat-18" class="widget widget_links"><h2 class="widgettitle">Blogroll</h2>

	<ul class="xoxo blogroll">
<li><a href="http://www.connorboyack.com/blog/" title="Connor Boyack’s Blog">Connor’s Conundrums</a></li>
<li><a href="http://www.jonasblog.com/">John Jonas</a></li>
<li><a href="http://frontrunnerreview.blogspot.com/">Keith &amp; Eli’s Stupid Blog</a></li>
<li><a href="http://www.latterdayblog.com/">Latter-day Blog</a></li>
<li><a href="http://brandonpearce.com/" title="The Thoughts, Learnings, Opinions, Discoveries, and Questions of Brandon Pearce">Musounderings</a></li>
<li><a href="http://therighttoremainstanding.blogspot.com/" title="Matt Long’s Blog">The Right To Remain Standing</a></li>

	</ul>
</div>
<div id="linkcat-17" class="widget widget_links"><h2 class="widgettitle">My Sites</h2>

	<ul class="xoxo blogroll">
<li><a href="http://www.direct-vs-dish.com/" title="Side by side comparison guide">DIRECTV vs. DISH Network</a></li>
<li><a href="http://satelliteinfo.org/">Dish Network vs. DIRECTV</a></li>
<li><a href="http://www.dvdanthology.com/" title="DVD Collector’s site">DVD Anthology</a></li>
<li><a href="http://inzolo.com/" title="Inzolo.com">Envelope Budget Software</a></li>
<li><a href="http://www.nerdlance.com/" title="Freelance for computer nerds. I build this oweing to frustrations with GetAFreelancer.com. Now I just wish I had their traffic ;)">Nerdlance.com</a></li>
<li><a href="http://www.zushop.com/" title="Searchable index of ClickBank.com products.">ZuSHOP</a></li>

	</ul>
</div>
<div id="rss-1" class="widget widget_rss"><h2 class="widgettitle"><a class="rsswidget" href="http://www.latterdayblog.com/feed" title="Syndicate this content"><img style="border:0" width="14" height="14" src="./deploy_instructions_files/rss.png" alt="RSS"></a> <a class="rsswidget" href="http://www.latterdayblog.com/" title="">Latter-day Blog</a></h2>
<ul><li><a class="rsswidget" href="http://www.latterdayblog.com/confidence-virtue-and-faith.html" title="иконографияПравославни иконикухниI recently got an email from an internet marketing guru and the subject was something to the point of What is better, confidence or competence? The article explained a disagreement he had with a friend. His friend said competence was better to while the author disagreed and gave several reasons why. I tend to […]">Confidence Virtue and Faith</a></li><li><a class="rsswidget" href="http://www.latterdayblog.com/general-conference-saturday-april-2009.html" title="This morning our 6 year old daughter Gracie was whining and complaining because she didn’t want to watch General Conference and my wife, Rachel didn’t want the kids just playing in the toy room and fighting the whole time. Gracie was getting pretty dramatic about it. Just before it started the doorbell rang. It was […]">General Conference Packets – Thank You Beehives!</a></li><li><a class="rsswidget" href="http://www.latterdayblog.com/motorola-em1000r-20-mile-2-way-frsgmrs-radio-pair.html" title="So I’ve recently been called in my ward as the emergency preparedness specialist. In our neighborhood we a divided up into blocks with block captains. In the event of an emergency, each block captain will have a set of 2 way radios for communication. I’m not a block captain, but thought it might would be […]">Motorola EM1000R 20-Mile 2-Way FRS/GMRS Radio, Pair</a></li></ul></div><div id="archives-2" class="widget widget_archive"><h2 class="widgettitle">Archives</h2>
		<ul>
			<li><a href="http://www.nerdydork.com/2013/03" title="March 2013">March 2013</a></li>
	<li><a href="http://www.nerdydork.com/2013/02" title="February 2013">February 2013</a></li>
	<li><a href="http://www.nerdydork.com/2013/01" title="January 2013">January 2013</a></li>
	<li><a href="http://www.nerdydork.com/2012/12" title="December 2012">December 2012</a></li>
	<li><a href="http://www.nerdydork.com/2012/11" title="November 2012">November 2012</a></li>
	<li><a href="http://www.nerdydork.com/2012/10" title="October 2012">October 2012</a></li>
	<li><a href="http://www.nerdydork.com/2012/09" title="September 2012">September 2012</a></li>
	<li><a href="http://www.nerdydork.com/2012/08" title="August 2012">August 2012</a></li>
	<li><a href="http://www.nerdydork.com/2012/07" title="July 2012">July 2012</a></li>
	<li><a href="http://www.nerdydork.com/2012/03" title="March 2012">March 2012</a></li>
	<li><a href="http://www.nerdydork.com/2012/01" title="January 2012">January 2012</a></li>
	<li><a href="http://www.nerdydork.com/2011/12" title="December 2011">December 2011</a></li>
	<li><a href="http://www.nerdydork.com/2011/11" title="November 2011">November 2011</a></li>
	<li><a href="http://www.nerdydork.com/2011/10" title="October 2011">October 2011</a></li>
	<li><a href="http://www.nerdydork.com/2011/06" title="June 2011">June 2011</a></li>
	<li><a href="http://www.nerdydork.com/2011/04" title="April 2011">April 2011</a></li>
	<li><a href="http://www.nerdydork.com/2011/03" title="March 2011">March 2011</a></li>
	<li><a href="http://www.nerdydork.com/2011/02" title="February 2011">February 2011</a></li>
	<li><a href="http://www.nerdydork.com/2011/01" title="January 2011">January 2011</a></li>
	<li><a href="http://www.nerdydork.com/2010/09" title="September 2010">September 2010</a></li>
	<li><a href="http://www.nerdydork.com/2010/06" title="June 2010">June 2010</a></li>
	<li><a href="http://www.nerdydork.com/2010/04" title="April 2010">April 2010</a></li>
	<li><a href="http://www.nerdydork.com/2010/03" title="March 2010">March 2010</a></li>
	<li><a href="http://www.nerdydork.com/2010/01" title="January 2010">January 2010</a></li>
	<li><a href="http://www.nerdydork.com/2009/12" title="December 2009">December 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/11" title="November 2009">November 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/10" title="October 2009">October 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/09" title="September 2009">September 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/07" title="July 2009">July 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/06" title="June 2009">June 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/05" title="May 2009">May 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/04" title="April 2009">April 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/03" title="March 2009">March 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/02" title="February 2009">February 2009</a></li>
	<li><a href="http://www.nerdydork.com/2009/01" title="January 2009">January 2009</a></li>
	<li><a href="http://www.nerdydork.com/2008/12" title="December 2008">December 2008</a></li>
	<li><a href="http://www.nerdydork.com/2008/10" title="October 2008">October 2008</a></li>
	<li><a href="http://www.nerdydork.com/2008/09" title="September 2008">September 2008</a></li>
	<li><a href="http://www.nerdydork.com/2008/08" title="August 2008">August 2008</a></li>
	<li><a href="http://www.nerdydork.com/2008/07" title="July 2008">July 2008</a></li>
	<li><a href="http://www.nerdydork.com/2008/06" title="June 2008">June 2008</a></li>
	<li><a href="http://www.nerdydork.com/2008/05" title="May 2008">May 2008</a></li>
	<li><a href="http://www.nerdydork.com/2008/04" title="April 2008">April 2008</a></li>
	<li><a href="http://www.nerdydork.com/2008/01" title="January 2008">January 2008</a></li>
	<li><a href="http://www.nerdydork.com/2007/12" title="December 2007">December 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/11" title="November 2007">November 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/10" title="October 2007">October 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/09" title="September 2007">September 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/08" title="August 2007">August 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/07" title="July 2007">July 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/06" title="June 2007">June 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/05" title="May 2007">May 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/04" title="April 2007">April 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/03" title="March 2007">March 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/02" title="February 2007">February 2007</a></li>
	<li><a href="http://www.nerdydork.com/2007/01" title="January 2007">January 2007</a></li>
	<li><a href="http://www.nerdydork.com/2006/12" title="December 2006">December 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/11" title="November 2006">November 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/10" title="October 2006">October 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/09" title="September 2006">September 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/07" title="July 2006">July 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/06" title="June 2006">June 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/04" title="April 2006">April 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/03" title="March 2006">March 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/02" title="February 2006">February 2006</a></li>
	<li><a href="http://www.nerdydork.com/2006/01" title="January 2006">January 2006</a></li>
	<li><a href="http://www.nerdydork.com/2005/12" title="December 2005">December 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/11" title="November 2005">November 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/10" title="October 2005">October 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/09" title="September 2005">September 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/08" title="August 2005">August 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/07" title="July 2005">July 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/06" title="June 2005">June 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/05" title="May 2005">May 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/04" title="April 2005">April 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/03" title="March 2005">March 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/02" title="February 2005">February 2005</a></li>
	<li><a href="http://www.nerdydork.com/2005/01" title="January 2005">January 2005</a></li>
		</ul>
</div>		
				</div><!--sidebar-->
	
		<!-- grab footer -->
					<div id="footer" class="clearfix">
				<div class="footer-copy">
					<div class="menu-footer-wrapper">
						<div class="footernav"><ul><li class="page_item page-item-192"><a href="http://www.nerdydork.com/about">About</a></li></ul></div>
					</div>
					
					<div class="clear"></div>
	
					<p class="copyright">© 2013 <a href="http://www.nerdydork.com/">Nerdy Dork</a> | Dustin Davis reviews… the internet.</p>
				</div>
				
				<div class="social-icons">
							
									</div>
				
			</div><!--footer-->
		</div><!-- main -->
	</div><!-- wrapper -->

	<!-- google analytics code -->
			<script>

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-83358-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<script></script>
<script>try{ clicky.init(66397013); }catch(e){}</script>
<p><img alt="Clicky" width="1" height="1" src="./deploy_instructions_files/66397013ns.gif"></p>		
		<div style="display:none">
	</div>
<script type="text/javascript" src="./deploy_instructions_files/shCore.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/shBrushBash.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/shBrushPlain.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://www.nerdydork.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://www.nerdydork.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<link rel="stylesheet" id="okaysocial_style-css" href="./deploy_instructions_files/social-style.css" type="text/css" media="all">
<link rel="stylesheet" id="okaysocial_icon_style-css" href="./deploy_instructions_files/social-icons.css" type="text/css" media="all">
<script type="text/javascript" src="./deploy_instructions_files/jquery.form.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/www.nerdydork.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ..."};
/* ]]> */
</script>
<script type="text/javascript" src="./deploy_instructions_files/scripts.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/devicepx-jetpack.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/gprofiles.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="./deploy_instructions_files/wpgroho.js"></script>
<script type="text/javascript" src="./deploy_instructions_files/custom.js"></script>

	<script src="./deploy_instructions_files/e-201322.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.2.5',blog:'39545235',post:'1093',tz:'-6'});
	var load_cmc = function(){linktracker_init(39545235,1093,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script><img id="wpstats" src="./deploy_instructions_files/g.gif" alt="">

<div id="fancybox-tmp"></div><div id="fancybox-loading"><div></div></div><div id="fancybox-overlay"></div><div id="fancybox-wrap"><div id="fancybox-outer"><div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div><div id="fancybox-content"></div><a id="fancybox-close"></a><div id="fancybox-title"></div><a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a><a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a></div></div><script id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ d.innerText=i; } } d.dispatchEvent(customEvent); form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>